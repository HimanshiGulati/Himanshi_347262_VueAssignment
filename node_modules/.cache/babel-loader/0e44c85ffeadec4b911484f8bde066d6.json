{"remainingRequest":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\src\\store\\modules\\user.js","mtime":1545232026000},{"path":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\himanshigulati\\\\Desktop\\\\Himanshi_347262_VueAssignment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport { api, setToken, clearToken } from \"../api\";\nexport default {\n  namespaced: true,\n  state: {\n    user: null,\n    profile: null\n  },\n  getters: {\n    username: function username(state) {\n      return state.user && state.user.username || null;\n    }\n  },\n  mutations: {\n    setUser: function setUser(state, payload) {\n      state.user = payload;\n    }\n  },\n  actions: {\n    getUser: function () {\n      var _getUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref) {\n        var commit, user;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit;\n                _context.next = 3;\n                return api.get(\"/user\");\n\n              case 3:\n                user = _context.sent;\n                commit(\"setUser\", user);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getUser(_x) {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }(),\n    loginUser: function () {\n      var _loginUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref2, _ref3) {\n        var commit, email, password, response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                commit = _ref2.commit;\n                email = _ref3.email, password = _ref3.password;\n                clearToken();\n                _context2.prev = 3;\n                _context2.next = 6;\n                return api.post(\"/users/login\", {\n                  user: {\n                    email: email,\n                    password: password\n                  }\n                });\n\n              case 6:\n                response = _context2.sent;\n\n                if (response.data.user) {\n                  setToken(response.data.user.token);\n                  commit(\"setUser\", response.data.user);\n                }\n\n                _context2.next = 14;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](3);\n                console.error(_context2.t0);\n                throw _context2.t0;\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function loginUser(_x2, _x3) {\n        return _loginUser.apply(this, arguments);\n      }\n\n      return loginUser;\n    }()\n  }\n};",{"version":3,"sources":["C:\\Users\\himanshigulati\\Desktop\\Himanshi_347262_VueAssignment\\src\\store\\modules\\user.js"],"names":["api","setToken","clearToken","namespaced","state","user","profile","getters","username","mutations","setUser","payload","actions","getUser","commit","get","loginUser","email","password","post","response","data","token","console","error"],"mappings":";;;;;AAAA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,UAAxB,QAA0C,QAA1C;AAEA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAE,IADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAFI;AAMXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,QADK,oBACIJ,KADJ,EACU;AACX,aAAQA,KAAK,CAACC,IAAN,IAAcD,KAAK,CAACC,IAAN,CAAWG,QAA1B,IAAuC,IAA9C;AACH;AAHI,GANE;AAWXC,EAAAA,SAAS,EAAE;AACPC,IAAAA,OADO,mBACCN,KADD,EACQO,OADR,EACiB;AACpBP,MAAAA,KAAK,CAACC,IAAN,GAAaM,OAAb;AACH;AAHM,GAXA;AAgBXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,OAAO;AAAA;AAAA;AAAA,8BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBC,gBAAAA,MAAlB,QAAkBA,MAAlB;AAAA;AAAA,uBACcd,GAAG,CAACe,GAAJ,CAAQ,OAAR,CADd;;AAAA;AACCV,gBAAAA,IADD;AAELS,gBAAAA,MAAM,CAAC,SAAD,EAAYT,IAAZ,CAAN;;AAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADF;AAKLW,IAAAA,SAAS;AAAA;AAAA;AAAA,8BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBF,gBAAAA,MAAlB,SAAkBA,MAAlB;AAA8BG,gBAAAA,KAA9B,SAA8BA,KAA9B,EAAqCC,QAArC,SAAqCA,QAArC;AACPhB,gBAAAA,UAAU;AADH;AAAA;AAAA,uBAGoBF,GAAG,CAACmB,IAAJ,CAAS,cAAT,EAAyB;AAC5Cd,kBAAAA,IAAI,EAAE;AACFY,oBAAAA,KAAK,EAALA,KADE;AAEFC,oBAAAA,QAAQ,EAARA;AAFE;AADsC,iBAAzB,CAHpB;;AAAA;AAGGE,gBAAAA,QAHH;;AASH,oBAAIA,QAAQ,CAACC,IAAT,CAAchB,IAAlB,EAAwB;AACpBJ,kBAAAA,QAAQ,CAACmB,QAAQ,CAACC,IAAT,CAAchB,IAAd,CAAmBiB,KAApB,CAAR;AACAR,kBAAAA,MAAM,CAAC,SAAD,EAAYM,QAAQ,CAACC,IAAT,CAAchB,IAA1B,CAAN;AACH;;AAZE;AAAA;;AAAA;AAAA;AAAA;AAcHkB,gBAAAA,OAAO,CAACC,KAAR;AAdG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AALJ;AAhBE,CAAf","sourcesContent":["import { api, setToken, clearToken } from \"../api\";\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        user: null,\r\n        profile: null\r\n    },\r\n    getters: {\r\n        username(state){\r\n            return (state.user && state.user.username) || null\r\n        }\r\n    },\r\n    mutations: {\r\n        setUser(state, payload) {\r\n            state.user = payload;\r\n        }\r\n    },\r\n    actions: {\r\n        getUser: async function ({ commit }) {\r\n            const user = await api.get(\"/user\");\r\n            commit(\"setUser\", user);\r\n        },\r\n        loginUser: async function ({ commit }, { email, password }) {\r\n            clearToken();\r\n            try {\r\n                const response = await api.post(\"/users/login\", {\r\n                    user: {\r\n                        email,\r\n                        password\r\n                    }\r\n                });\r\n                if (response.data.user) {\r\n                    setToken(response.data.user.token);\r\n                    commit(\"setUser\", response.data.user);\r\n                }\r\n            } catch (e) {\r\n                console.error(e);\r\n                throw e;\r\n            }\r\n\r\n        },\r\n\r\n    }\r\n}"]}]}